<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Appointment List Fragment</title>
  <style>
    table { width: 100%; border-collapse: collapse; }
    thead tr { background: #f0f0f0; }
    th, td { padding: 8px; border: 1px solid #ddd; text-align: center; }
    button { padding: 4px 8px; margin: 0; }
  </style>
</head>
<body>
<div th:fragment="listFragment">
  <table>
    <thead>
    <tr>
      <th>환자 이름</th>
      <th>예약 날짜</th>
      <th>예약 시간</th>
      <th>상태</th>
      <th>비고</th>
      <th>작업</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="appointment : ${appointments}">
      <td th:text="${appointment.patientName}">홍길동</td>
      <td th:text="${appointment.appointmentDate}">2025-03-20</td>
      <td th:text="${appointment.appointmentTime}">09:00</td>
      <!-- 상태는 단순 텍스트로 출력 -->
      <td th:text="${appointment.status}">예약</td>
      <td th:text="${appointment.remarks}"></td>
      <td>
        <!-- 접수 버튼: data-id 는 예약ID, data-patient-id 는 환자ID -->
        <button class="reception-btn"
                th:data-id="${appointment.appointmentId}"
                th:data-patient-id="${appointment.patientId}">접수</button>
        <button class="cancel-btn"
                th:data-id="${appointment.appointmentId}">취소</button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
</body>
</html>
